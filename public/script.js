const teaser = [
  "https://cdn.glitch.com/a840980d-4afb-44d8-a53e-527ff5d74d1b%2FSaejun-teaser.mp4",
  "https://cdn.glitch.com/a840980d-4afb-44d8-a53e-527ff5d74d1b%2Farmando-teaser.mp4",
  "https://cdn.glitch.com/a840980d-4afb-44d8-a53e-527ff5d74d1b%2Fjeenho-teaser.mp4",
  "https://cdn.glitch.com/a840980d-4afb-44d8-a53e-527ff5d74d1b%2Ffreddy-teaser.mp4",
  "https://cdn.glitch.com/a840980d-4afb-44d8-a53e-527ff5d74d1b%2Fhyeree-teaser.mp4",
  "https://cdn.glitch.com/a840980d-4afb-44d8-a53e-527ff5d74d1b%2Fstella-teaser.mp4"
]

const imagesStella = [
  "https://cdn.glitch.com/7abca12b-1979-4149-9fa2-0c9dc9c78fd7%2FChapter-NY_Stella-Zhong_003_1600_c.jpeg?v=1614984752546",
  "https://cdn.glitch.com/7abca12b-1979-4149-9fa2-0c9dc9c78fd7%2FChapter-NY_Stella-Zhong_12-20_0009-copy_1600_c.jpeg?v=1614984753420",
  "https://cdn.glitch.com/7abca12b-1979-4149-9fa2-0c9dc9c78fd7%2Fstella-zhong-5_1250.jpg",
  "https://cdn.glitch.com/7abca12b-1979-4149-9fa2-0c9dc9c78fd7%2Fstella-zhong-6_1250.png",
  "https://cdn.glitch.com/7abca12b-1979-4149-9fa2-0c9dc9c78fd7%2FChapter-NY_Stella-Zhong_027_1600_c.jpeg?v=1614984754689",
  "https://cdn.glitch.com/7abca12b-1979-4149-9fa2-0c9dc9c78fd7%2Fstella-zhong-7_1250.png",
  "https://cdn.glitch.com/7abca12b-1979-4149-9fa2-0c9dc9c78fd7%2FChapter-NY_Stella-Zhong_017_1600_c.jpeg?v=1614984753503",
  "https://cdn.glitch.com/7abca12b-1979-4149-9fa2-0c9dc9c78fd7%2FChapter-NY_Stella-Zhong_020_1600_c.jpeg?v=1614984753586",
  "https://cdn.glitch.com/7abca12b-1979-4149-9fa2-0c9dc9c78fd7%2FChapter-NY_Stella-Zhong_021_1600_c.jpeg?v=1614984754193",
  "https://cdn.glitch.com/7abca12b-1979-4149-9fa2-0c9dc9c78fd7%2FChapter-NY_Stella-Zhong_014_1600_c.jpeg?v=1614984754555",
  "https://cdn.glitch.com/7abca12b-1979-4149-9fa2-0c9dc9c78fd7%2FChapter-NY_Stella-Zhong_008_1600_c.jpeg?v=1614984753634",
  "https://cdn.glitch.com/7abca12b-1979-4149-9fa2-0c9dc9c78fd7%2FChapter-NY_Stella-Zhong_026_1600_c.jpeg?v=1614984754363",
  "https://cdn.glitch.com/7abca12b-1979-4149-9fa2-0c9dc9c78fd7%2FChapter-NY_Stella-Zhong_022_1600_c.jpeg?v=1614984754288",
  "https://cdn.glitch.com/7abca12b-1979-4149-9fa2-0c9dc9c78fd7%2Fstella-zhong-001_1600_c.jpg?v=1614986488413",
  "https://cdn.glitch.com/7abca12b-1979-4149-9fa2-0c9dc9c78fd7%2Fstella-zhong-003_1600_c.jpg?v=1614986488508",
  "https://cdn.glitch.com/7abca12b-1979-4149-9fa2-0c9dc9c78fd7%2Fstella-zhong-002_1600_c.jpeg?v=1615398126235",
  "https://cdn.glitch.com/7abca12b-1979-4149-9fa2-0c9dc9c78fd7%2Fstella-zhong-007_1600_c.jpg?v=1614986488679",
  "https://cdn.glitch.com/7abca12b-1979-4149-9fa2-0c9dc9c78fd7%2Fstella-zhong-004_1600_c.jpg?v=1614986488573",
  "https://cdn.glitch.com/7abca12b-1979-4149-9fa2-0c9dc9c78fd7%2Fstella-zhong-005_1600_c.jpeg?v=1614986488413",
  "https://cdn.glitch.com/7abca12b-1979-4149-9fa2-0c9dc9c78fd7%2Fstella-zhong-006_1600_c.jpeg?v=1614986488448"
]
const videosStella = [
  `<iframe src="https://player.vimeo.com/video/397851678?autoplay=1&loop=1&title=0&byline=0&portrait=0" width="800" height="450" frameborder="0" allow="autoplay; fullscreen; picture-in-picture" allowfullscreen></iframe>`,
  `<iframe src="https://player.vimeo.com/video/408478068?autoplay=1&loop=1&title=0&byline=0&portrait=0" width="800" height="450" frameborder="0" allow="autoplay; fullscreen; picture-in-picture" allowfullscreen></iframe>`
]

const imagesHyeree = [
  "https://cdn.glitch.com/7abca12b-1979-4149-9fa2-0c9dc9c78fd7%2F26_20190720-_MG_2127%202.jpg?v=1614914524878",
  "https://cdn.glitch.com/7abca12b-1979-4149-9fa2-0c9dc9c78fd7%2F26_20190720-_MG_2128.jpg?v=1614914524970",
  "https://cdn.glitch.com/7abca12b-1979-4149-9fa2-0c9dc9c78fd7%2Fnago.jpg?v=1614916429730",
  "https://cdn.glitch.com/7abca12b-1979-4149-9fa2-0c9dc9c78fd7%2Fpassage.jpg?v=1614917718302",
  "https://cdn.glitch.com/7abca12b-1979-4149-9fa2-0c9dc9c78fd7%2F85_movingprints1.jpg?v=1614917828250",
  "https://cdn.glitch.com/7abca12b-1979-4149-9fa2-0c9dc9c78fd7%2F85_movingprints2.jpg?v=1614917825460",
  "https://cdn.glitch.com/7abca12b-1979-4149-9fa2-0c9dc9c78fd7%2F85_movingprints3_v2.jpg?v=1614917824046"
]
const videosHyeree = [
  `<iframe src="https://player.vimeo.com/video/425709172?autoplay=1&loop=1&title=0&byline=0&portrait=0" width="800" height="450" frameborder="0" allow="autoplay; fullscreen; picture-in-picture" allowfullscreen></iframe>`
]


// get name of the room
let name = document.querySelectorAll('.name')[0].id
// get nav of names/titles
let hoverImg = document.querySelectorAll('.hoverImg')
let hoverVideo = document.querySelectorAll('.hoverVideo')
let entrance = document.querySelectorAll('.entrance')
// get image/video container
let showImage = document.querySelector('#showimage')
// get corners on homepage
let corners = []
if ( document.querySelector('#corners') != null ) {
  corners = document.querySelector('#corners').children
}
// match names and the arrays
let imagesName = ""
let videosName = ""
if ( name === "stella" ) { imagesName = imagesStella; videosName = videosStella }
if ( name === "hyeree" ) { imagesName = imagesHyeree; videosName = videosHyeree }

// add links to each name/title
for (let i = 0; i < hoverImg.length; i++) {
  hoverImg[i].addEventListener('mouseover', () => {
    showImage.innerHTML = `<img src=${imagesName[i]}>`
  })
}
for (let i = 0; i < hoverVideo.length; i++) {
  hoverVideo[i].addEventListener('mouseover', () => {
    showImage.innerHTML = videosName[i]
  })
}
for (let i = 0; i < entrance.length; i++) {
  entrance[i].addEventListener('mouseenter', () => {
    showImage.innerHTML = `
      <video width="800" playsinline autoplay muted loop>
        <source src=${teaser[i]}>
      </video>
    `
  })
  entrance[i].addEventListener('mouseleave', () => {
    showImage.innerHTML = ''
  })
}
// hide images/videos when hover on the corners
for (let i = 0; i < corners.length; i++) {
  corners[i].addEventListener('mouseover', () => {
    showImage.innerHTML = ''
  })
}


// text degradation on hover
function textDecay(words) {
  for (let i = 0; i < words.length; i++) {
    // set initial hover state
    let hover = false
    // get font weight
    let weight = words[i].style.fontFamily.slice(-1)
    // for desktop: when mouse over the word
    words[i].addEventListener('mouseenter', () => {
      if ( weight < 9 ) {
        weight++
        words[i].style.fontFamily = "oldround" + weight
      }
      hover = true
      // decay (weight+1) every 1/2 second
      var textDecay = setInterval(function(){
        if ( hover == true && weight < 9 ) {
          weight++
          words[i].style.fontFamily = "oldround" + weight
        } else {
          clearInterval(textDecay)
        }
      },500);
    })
    // for desktop
    words[i].addEventListener('mouseleave', () => {
      hover = false
    })
  }
}

// text degradation on touch
function textDecayMobile(words) {
  for (let i = 0; i < words.length; i++) {
    // set initial hover state
    let hover = false
    // get font weight
    let weight = words[i].style.fontFamily.slice(-1)
    // for touchscreen: when touch on the word
    words[i].addEventListener('touchstart', (event) => {
      event.preventDefault()
      if ( weight < 9 ) {
        weight++
        words[i].style.fontFamily = "oldround" + weight
      }
      hover = true
      // decay (weight+1) every 1/2 second
      var textDecay = setInterval(function(){
        if ( hover == true && weight < 9 ) {
          weight++
          words[i].style.fontFamily = "oldround" + weight
        } else {
          clearInterval(textDecay)
        }
      },500);
    })
    // for touchscreen
    words[i].addEventListener('touchend', (event) => {
      event.preventDefault()
      hover = false
    })
  }
}

// // create a span for each word
// let btexts = document.querySelectorAll(".btext")
// for (let btext of btexts) {
//   btext.innerHTML = btext.textContent.replace(/\b(\w+)\b/g, `<span style="font-family:oldround0">$1</span>`)
// }
// // loop through each word
// let btextWords = document.querySelectorAll(".btext span")
// textDecay(btextWords)
// for (let btextWord of btextWords) {
//   if (btextWord.textContent.length >= 10) {
//     btextWord.style.wordBreak = "break-word"
//     btextWord.style.hyphens = "auto"
//   }
// }

// for mobile:
function windowResize() {
  // get the viewport height and we multiple it by 1% to get a value for a vh unit
  let vh = window.innerHeight * 0.01;
  // set the value in the --vh custom property to the root of the document
  document.documentElement.style.setProperty('--vh', `${vh}px`)
  
  // get all the navs
  let navs = document.querySelectorAll('nav')
  // change nav positions when width < height
  if ( window.innerWidth < window.innerHeight ) {
    navs[0].id = 'left'
    navs[1].id = 'top'
    navs[2].id = 'right'
    navs[3].id = 'bottom'
  } else {
    navs[0].id = 'top'
    navs[1].id = 'right'
    navs[2].id = 'bottom'
    navs[3].id = 'left'
  }
}
windowResize() 
window.onresize = windowResize

// toggle show text
let textButton = document.querySelector('#text')
if (textButton != undefined) {
  let textContainer = document.querySelector('#text-container')
  textContainer.style.display = "none"
  textButton.addEventListener('click', () => {
    if ( textContainer.style.display === "none" ) {
      // console.log("none")
      textContainer.style.display = "flex"
      document.querySelector('#wall').style.opacity = "0"
      document.querySelector('.center').style.opacity = "0"
      document.querySelector('#showimage').style.opacity = "0"
      textButton.textContent = "Close"
    } else {
      // console.log("flex")
      textContainer.style.display = "none"
      document.querySelector('#wall').style.opacity = "1"
      document.querySelector('.center').style.opacity = "1"
      document.querySelector('#showimage').style.opacity = "1"
      textButton.textContent = "Text"
    }
  })
}
  
